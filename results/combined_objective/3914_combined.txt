british no 2 aljaz bedene has booked a quarter-final place at the grand prix hassan ii event in casablanca .
the world no 99 , who switched allegiance from slovenia to britain last month , was given a far tougher test as he progressed to the last-eight .