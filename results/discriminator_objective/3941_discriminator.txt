margaret thatcher threatened to cancel a visit to ireland because it was being ` unfriendly ' about the falklands war , newly declassified files reveal .