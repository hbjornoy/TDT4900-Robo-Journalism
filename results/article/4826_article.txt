by .
matt chorley , mailonline political editor .
published : .
11:09 est , 4 july 2013 .
| .
updated : .
10:19 est , 5 july 2013 .
david cameron today claimed britain had moved ` one step closer ' to having a say on the european union as the commons backed an in-out referendum .
in a landmark parliamentary 304 mps voted in favour of a referendum , with none voting against as almost all labour and lib dems mps boycotted westminster .
there was loud cheering on the commons ' green benches as a backbench bill , spearheaded by tory mp james wharton , cleared the first hurdle in its difficult battle to become law .
deal : david cameron backed the referendum bill championed by tory mp james wharton -lrb- right -rrb- .
choice : the prime minister , who earlier met patients kitty o'leary -lrb- left -rrb- and alex mulford -lrb- right -rrb- and his mother mary during a visit to the evelina london children 's hospital , ridiculed labour and lib dem opposition to a referendum .
the pm has ordered all tory mps to back .
legislation paving the way for a referendum on european union membership .
by the end of 2017 .
last night he hosted a barbecue in the number 10 gardens to persuade mps .
to stay in london today -- rather than go to constituencies -- for the landmark commons vote .
ed miliband and nick clegg have dismissed the bill as a stunt designed to shore up the prime minister 's position with his rank and file - pointing out that it has virtually no chance of becoming law .
but after the result was announced , mr cameron wrote on twitter : ` referendum bill passes first commons stage , bringing us one step closer to giving the british people a say on europe .
' as the commons debate on legislating for a referendum by 2017 got under , foreign secretary william hague told mps the european union now lacks democratic legitimacy and must be reformed .
foreign secretary william hague told the commons that the eu now lacks democratic legitimacy .
mr hague said : ` the efforts of those .
who want to build european integration without bringing the people with .
them have been utterly self-defeating .
` the .